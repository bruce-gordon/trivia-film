(this["webpackJsonptrivia-film"]=this["webpackJsonptrivia-film"]||[]).push([[0],{18:function(e,t,c){},20:function(e,t,c){},21:function(e,t,c){},22:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),r=c.n(s),o=c(12),i=c.n(o),a=(c(18),c(2)),l=c.n(a),u=c(10),d=c(3),h=c(11),j=c(4),p=c(5),m=c(7),b=c(6),f=(c(20),function(){return fetch("https://opentdb.com/api.php?amount=10&category=11&difficulty=medium&type=multiple").then((function(e){return e.json()}))}),O=(c(21),c(22),c(8)),v=c.n(O),x=function(e){Object(m.a)(c,e);var t=Object(b.a)(c);function c(e){var s;return Object(j.a)(this,c),(s=t.call(this,e)).componentDidMount=function(){s.setState({correct:v.a.decode(s.props.correct).trim(),selected:""})},s.sortChoices=function(){var e=s.props.incorrect,t=[s.props.correct];return e.concat(t).sort()},s.decodeChoices=function(){return s.sortChoices().map((function(e){return v.a.decode(e)}))},s.handleClick=function(e){var t=e.target.closest("div").children[0].innerText.trim();s.setState({selected:t}),s.props.updateAnswers(s.props.id,s.checkAnswer(t))},s.checkAnswer=function(e){return e===s.state.correct},s.checkSelected=function(e,t){var c=s.state.correct,r=s.props.gameOver;return console.log(c,s.state.selected),s.state.selected===s.decodeChoices()[e]&&!1===r?Object(n.jsxs)("div",{className:"selected",onClick:s.handleClick,children:["".concat(t,") "),Object(n.jsx)("p",{style:{display:"inline"},children:"".concat(s.decodeChoices()[e])})]}):s.state.selected===s.decodeChoices()[e]&&!0===r?Object(n.jsxs)("div",{className:"selected ".concat(c===s.decodeChoices()[e]?"correct":"incorrect"),onClick:s.handleClick,children:["".concat(t,") "),Object(n.jsx)("p",{style:{display:"inline"},children:"".concat(s.decodeChoices()[e])})]}):s.state.selected!==s.decodeChoices()[e]&&!0===r?Object(n.jsxs)("div",{className:"choice ".concat(c===s.decodeChoices()[e]?"correct":""),onClick:s.handleClick,children:["".concat(t,") "),Object(n.jsx)("p",{style:{display:"inline"},children:"".concat(s.decodeChoices()[e])})]}):Object(n.jsxs)("div",{className:"choice",onClick:s.handleClick,children:["".concat(t,") "),Object(n.jsx)("p",{style:{display:"inline"},children:"".concat(s.decodeChoices()[e])})]})},s.state={correct:"",selected:""},s}return Object(p.a)(c,[{key:"render",value:function(){var e=this.props,t=e.q,c=e.id;e.gameOver;return Object(n.jsxs)("article",{className:"question-and-answers",children:[Object(n.jsx)("h4",{className:"question",children:"".concat(c+1,". ").concat(v.a.decode(t))}),Object(n.jsxs)("div",{className:"mult-choices",children:[this.checkSelected(0,"a"),this.checkSelected(1,"b"),this.checkSelected(2,"c"),this.checkSelected(3,"d")]})]})}}]),c}(s.Component),w=function(e){var t=e.questions,c=e.updateAnswers,s=e.scoreQuiz,r=e.score,o=e.reset,i=e.gameOver,a=t.map((function(e,t){Date.now();return Object(n.jsx)(x,{id:t,q:e.question,correct:e.correct_answer.trim(),incorrect:e.incorrect_answers,updateAnswers:c,gameOver:i},"".concat(t).concat(e.correct_answer.trim()))}));return Object(n.jsxs)("section",{className:"question-display",children:[""===r&&Object(n.jsx)("h2",{children:"Choose the correct answer for each question."}),""!==r&&Object(n.jsxs)("div",{className:"results",children:[Object(n.jsxs)("h3",{className:"user-score",children:["You answered ",r," questions correctly!"]}),Object(n.jsx)("button",{className:"restart",onClick:function(e){e.preventDefault(),o(),window.scrollTo(0,0)},children:Object(n.jsx)("b",{children:"Play again"})})]}),a,Object(n.jsx)("button",{className:"submit",onClick:function(e){e.preventDefault(),s(),window.scrollTo(0,0)},children:Object(n.jsx)("b",{children:"What's my score?"})})]})},C=function(e){Object(m.a)(c,e);var t=Object(b.a)(c);function c(){var e;return Object(j.a)(this,c),(e=t.call(this)).componentDidMount=function(){f().then((function(t){return e.setState({questions:t.results})}))},e.updateAnswers=function(t,c){e.setState((function(e){return{answers:Object(h.a)(Object(h.a)({},e.answers),{},Object(d.a)({},t,c))}}))},e.scoreQuiz=Object(u.a)(l.a.mark((function t(){var c,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object.values(e.state.answers),n=0,c.forEach((function(e){!0===e&&(n+=1)})),t.next=5,e.setState({score:"".concat(n," out of ").concat(c.length),gameOver:!0});case 5:return t.abrupt("return","".concat(n,"/").concat(c.length));case 6:case"end":return t.stop()}}),t)}))),e.resetApp=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({answers:{0:!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1},score:""}),t.next=3,f().then((function(t){return e.setState({questions:t.results,gameOver:!1})}));case 3:case"end":return t.stop()}}),t)}))),e.state={questions:[],answers:{0:!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1},score:"",gameOver:!1},e}return Object(p.a)(c,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("h1",{className:"greeting",children:"Welcome to Film Trivia!"}),Object(n.jsx)("main",{className:"App-main",children:Object(n.jsx)(w,{questions:this.state.questions,updateAnswers:this.updateAnswers,scoreQuiz:this.scoreQuiz,score:this.state.score,reset:this.resetApp,gameOver:this.state.gameOver})})]})}}]),c}(s.Component),k=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,26)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),n(e),s(e),r(e),o(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root")),k()}},[[25,1,2]]]);
//# sourceMappingURL=main.ee47f6b2.chunk.js.map